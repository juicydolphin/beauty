/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@babel/runtime/helpers/regeneratorRuntime.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/regeneratorRuntime.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _typeof = (__webpack_require__(/*! ./typeof.js */ "./node_modules/@babel/runtime/helpers/typeof.js")["default"]);
function _regeneratorRuntime() {
  "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {
    return exports;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  var exports = {},
    Op = Object.prototype,
    hasOwn = Op.hasOwnProperty,
    defineProperty = Object.defineProperty || function (obj, key, desc) {
      obj[key] = desc.value;
    },
    $Symbol = "function" == typeof Symbol ? Symbol : {},
    iteratorSymbol = $Symbol.iterator || "@@iterator",
    asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator",
    toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
  function define(obj, key, value) {
    return Object.defineProperty(obj, key, {
      value: value,
      enumerable: !0,
      configurable: !0,
      writable: !0
    }), obj[key];
  }
  try {
    define({}, "");
  } catch (err) {
    define = function define(obj, key, value) {
      return obj[key] = value;
    };
  }
  function wrap(innerFn, outerFn, self, tryLocsList) {
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,
      generator = Object.create(protoGenerator.prototype),
      context = new Context(tryLocsList || []);
    return defineProperty(generator, "_invoke", {
      value: makeInvokeMethod(innerFn, self, context)
    }), generator;
  }
  function tryCatch(fn, obj, arg) {
    try {
      return {
        type: "normal",
        arg: fn.call(obj, arg)
      };
    } catch (err) {
      return {
        type: "throw",
        arg: err
      };
    }
  }
  exports.wrap = wrap;
  var ContinueSentinel = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  var IteratorPrototype = {};
  define(IteratorPrototype, iteratorSymbol, function () {
    return this;
  });
  var getProto = Object.getPrototypeOf,
    NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function (method) {
      define(prototype, method, function (arg) {
        return this._invoke(method, arg);
      });
    });
  }
  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if ("throw" !== record.type) {
        var result = record.arg,
          value = result.value;
        return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) {
          invoke("next", value, resolve, reject);
        }, function (err) {
          invoke("throw", err, resolve, reject);
        }) : PromiseImpl.resolve(value).then(function (unwrapped) {
          result.value = unwrapped, resolve(result);
        }, function (error) {
          return invoke("throw", error, resolve, reject);
        });
      }
      reject(record.arg);
    }
    var previousPromise;
    defineProperty(this, "_invoke", {
      value: function value(method, arg) {
        function callInvokeWithMethodAndArg() {
          return new PromiseImpl(function (resolve, reject) {
            invoke(method, arg, resolve, reject);
          });
        }
        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
      }
    });
  }
  function makeInvokeMethod(innerFn, self, context) {
    var state = "suspendedStart";
    return function (method, arg) {
      if ("executing" === state) throw new Error("Generator is already running");
      if ("completed" === state) {
        if ("throw" === method) throw arg;
        return doneResult();
      }
      for (context.method = method, context.arg = arg;;) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }
        if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) {
          if ("suspendedStart" === state) throw state = "completed", context.arg;
          context.dispatchException(context.arg);
        } else "return" === context.method && context.abrupt("return", context.arg);
        state = "executing";
        var record = tryCatch(innerFn, self, context);
        if ("normal" === record.type) {
          if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
          return {
            value: record.arg,
            done: context.done
          };
        }
        "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
      }
    };
  }
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (undefined === method) {
      if (context.delegate = null, "throw" === context.method) {
        if (delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
        context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
      }
      return ContinueSentinel;
    }
    var record = tryCatch(method, delegate.iterator, context.arg);
    if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel;
    var info = record.arg;
    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel);
  }
  function pushTryEntry(locs) {
    var entry = {
      tryLoc: locs[0]
    };
    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);
  }
  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal", delete record.arg, entry.completion = record;
  }
  function Context(tryLocsList) {
    this.tryEntries = [{
      tryLoc: "root"
    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
  }
  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) return iteratorMethod.call(iterable);
      if ("function" == typeof iterable.next) return iterable;
      if (!isNaN(iterable.length)) {
        var i = -1,
          next = function next() {
            for (; ++i < iterable.length;) {
              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;
            }
            return next.value = undefined, next.done = !0, next;
          };
        return next.next = next;
      }
    }
    return {
      next: doneResult
    };
  }
  function doneResult() {
    return {
      value: undefined,
      done: !0
    };
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", {
    value: GeneratorFunctionPrototype,
    configurable: !0
  }), defineProperty(GeneratorFunctionPrototype, "constructor", {
    value: GeneratorFunction,
    configurable: !0
  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) {
    var ctor = "function" == typeof genFun && genFun.constructor;
    return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
  }, exports.mark = function (genFun) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun;
  }, exports.awrap = function (arg) {
    return {
      __await: arg
    };
  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
    return this;
  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    void 0 === PromiseImpl && (PromiseImpl = Promise);
    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {
      return result.done ? result.value : iter.next();
    });
  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () {
    return this;
  }), define(Gp, "toString", function () {
    return "[object Generator]";
  }), exports.keys = function (val) {
    var object = Object(val),
      keys = [];
    for (var key in object) {
      keys.push(key);
    }
    return keys.reverse(), function next() {
      for (; keys.length;) {
        var key = keys.pop();
        if (key in object) return next.value = key, next.done = !1, next;
      }
      return next.done = !0, next;
    };
  }, exports.values = values, Context.prototype = {
    constructor: Context,
    reset: function reset(skipTempReset) {
      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {
        "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);
      }
    },
    stop: function stop() {
      this.done = !0;
      var rootRecord = this.tryEntries[0].completion;
      if ("throw" === rootRecord.type) throw rootRecord.arg;
      return this.rval;
    },
    dispatchException: function dispatchException(exception) {
      if (this.done) throw exception;
      var context = this;
      function handle(loc, caught) {
        return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught;
      }
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i],
          record = entry.completion;
        if ("root" === entry.tryLoc) return handle("end");
        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc"),
            hasFinally = hasOwn.call(entry, "finallyLoc");
          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
          } else {
            if (!hasFinally) throw new Error("try statement without catch or finally");
            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
          }
        }
      }
    },
    abrupt: function abrupt(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }
      finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
      var record = finallyEntry ? finallyEntry.completion : {};
      return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
    },
    complete: function complete(record, afterLoc) {
      if ("throw" === record.type) throw record.arg;
      return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;
    },
    finish: function finish(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;
      }
    },
    "catch": function _catch(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if ("throw" === record.type) {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }
      throw new Error("illegal catch attempt");
    },
    delegateYield: function delegateYield(iterable, resultName, nextLoc) {
      return this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      }, "next" === this.method && (this.arg = undefined), ContinueSentinel;
    }
  }, exports;
}
module.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/***/ ((module) => {

function _typeof(obj) {
  "@babel/helpers - typeof";

  return (module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports), _typeof(obj);
}
module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ "./node_modules/@babel/runtime/regenerator/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// TODO(Babel 8): Remove this file.

var runtime = __webpack_require__(/*! ../helpers/regeneratorRuntime */ "./node_modules/@babel/runtime/helpers/regeneratorRuntime.js")();
module.exports = runtime;

// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=
try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  if (typeof globalThis === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}


/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _asyncToGenerator)
/* harmony export */ });
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }
  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}
function _asyncToGenerator(fn) {
  return function () {
    var self = this,
      args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);
      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }
      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }
      _next(undefined);
    });
  };
}

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*******************************!*\
  !*** ./site/src/js/script.js ***!
  \*******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);


function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
var form = document.getElementById('form');
var formFancybox = document.getElementById('form-fancybox');
function getFormData() {
  return _getFormData.apply(this, arguments);
}
function _getFormData() {
  _getFormData = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee() {
    var data, name, phone, response, result;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            data = new FormData(form);
            name = data.get('name');
            phone = data.get('phone');
            _context.prev = 3;
            document.getElementById("formButton").disabled = true;
            document.getElementById("formButton").classList.add('disabled');
            form.querySelector(".contacts__preloader").classList.remove('hidden');
            _context.next = 9;
            return fetch('https://beauty-saloon-server.herokuapp.com/api/orders', {
              method: 'POST',
              body: JSON.stringify({
                name: name,
                phone: phone
              })
            });
          case 9:
            response = _context.sent;
            _context.next = 12;
            return response.json();
          case 12:
            result = _context.sent;
            document.getElementById("formButton").disabled = false;
            document.getElementById("formButton").classList.remove('disabled');
            form.querySelector(".contacts__preloader").classList.add('hidden');
            form.querySelector(".contacts__result-message").classList.remove('hidden');
            setTimeout(function () {
              form.querySelector(".contacts__result-message").classList.add('hidden');
            }, 3000);
            console.log('Успех:', JSON.stringify(result));
            _context.next = 24;
            break;
          case 21:
            _context.prev = 21;
            _context.t0 = _context["catch"](3);
            console.error('Ошибка:', _context.t0);
          case 24:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[3, 21]]);
  }));
  return _getFormData.apply(this, arguments);
}
var menu = document.getElementById('price-menu');
menu.addEventListener('click', priceSwitcher);
function priceSwitcher(e) {
  e.preventDefault();
  if (e.target.id === 'haircut') {
    var haircutData = {
      leftTitleFirst: 'Женская стрижка',
      leftTextFirst: 'Короткие волосы',
      leftTitleSecond: 'Мужская стрижка',
      leftTextSecond: 'Короткие волосы',
      leftTitleThird: 'Детский стиль',
      leftTextThird: 'Короткие волосы',
      leftTitleForth: 'Креативный стиль',
      leftTextForth: 'Короткие волосы',
      rightTitleFirst: 'Стрижка бороды и усов',
      rightTextFirst: 'Короткие волосы',
      rightTitleSecond: 'Эксперсс укладка',
      rightTextSecond: 'Короткие волосы',
      rightTitleThird: 'Уклака дневная',
      rightTextThird: 'Короткие волосы',
      rightTitleForth: 'Прическа вечерняя (свадебная)',
      rightTextForth: 'Короткие волосы',
      leftPriceFirst: '1200 ₽',
      leftPriceSecond: '1200 ₽',
      leftPriceThird: '1200 ₽',
      leftPriceForth: '1200 ₽',
      rightPriceFirst: '1200 ₽',
      rightPriceSecond: '1200 ₽',
      rightPriceThird: '1200 ₽',
      rightPriceForth: '3000 ₽'
    };
    setText(haircutData);
  } else if (e.target.id === 'cosmetology') {
    var cosmetologyData = {
      leftTitleFirst: 'Салициловый пилинг',
      leftTextFirst: '18+ и старше',
      leftTitleSecond: 'Миндальный пилинг',
      leftTextSecond: '18+ и старше',
      leftTitleThird: 'Ретиноловый пилинг',
      leftTextThird: '18+ и старше',
      leftTitleForth: '',
      leftTextForth: '',
      rightTitleFirst: '',
      rightTextFirst: '',
      rightTitleSecond: '',
      rightTextSecond: '',
      rightTitleThird: '',
      rightTextThird: '',
      rightTitleForth: '',
      rightTextForth: '',
      leftPriceFirst: '2900 ₽',
      leftPriceSecond: '2900 ₽',
      leftPriceThird: '2900 ₽',
      leftPriceForth: '',
      rightPriceFirst: '',
      rightPriceSecond: '',
      rightPriceThird: '',
      rightPriceForth: ''
    };
    setText(cosmetologyData);
  } else if (e.target.id === 'nails') {
    var nailsData = {
      leftTitleFirst: 'Маникюр',
      leftTextFirst: '60 минут',
      leftTitleSecond: 'Педикюр',
      leftTextSecond: '30 минут',
      leftTitleThird: 'SPA для рук',
      leftTextThird: '30 минут',
      leftTitleForth: 'SPA для ног',
      leftTextForth: '30 минут',
      rightTitleFirst: '',
      rightTextFirst: '',
      rightTitleSecond: '',
      rightTextSecond: '',
      rightTitleThird: '',
      rightTextThird: '',
      rightTitleForth: '',
      rightTextForth: '',
      leftPriceFirst: '1000 ₽',
      leftPriceSecond: '1300 ₽',
      leftPriceThird: '500 ₽',
      leftPriceForth: '700 ₽',
      rightPriceFirst: '',
      rightPriceSecond: '',
      rightPriceThird: '',
      rightPriceForth: ''
    };
    setText(nailsData);
  } else if (e.target.id === 'makeup') {
    var makeupData = {
      leftTitleFirst: 'Макияж дневной',
      leftTextFirst: '60 минут',
      leftTitleSecond: 'Макияж вечерний',
      leftTextSecond: '90 минут',
      leftTitleThird: 'Лифтинг',
      leftTextThird: '60 минут',
      leftTitleForth: 'Макияж для фотосессий',
      leftTextForth: '90 минут',
      rightTitleFirst: '',
      rightTextFirst: '',
      rightTitleSecond: '',
      rightTextSecond: '',
      rightTitleThird: '',
      rightTextThird: '',
      rightTitleForth: '',
      rightTextForth: '',
      leftPriceFirst: '1000 ₽',
      leftPriceSecond: '1500 ₽',
      leftPriceThird: '1500 ₽',
      leftPriceForth: '2000 ₽',
      rightPriceFirst: '',
      rightPriceSecond: '',
      rightPriceThird: '',
      rightPriceForth: ''
    };
    setText(makeupData);
  } else if (e.target.id === 'brows') {
    var browsData = {
      leftTitleFirst: 'Коррекция бровей',
      leftTextFirst: '30 минут',
      leftTitleSecond: 'Ламинирование бровей',
      leftTextSecond: '60 минут',
      leftTitleThird: 'Окрашивание бровей',
      leftTextThird: '30 минут',
      leftTitleForth: '',
      leftTextForth: '',
      rightTitleFirst: '',
      rightTextFirst: '',
      rightTitleSecond: '',
      rightTextSecond: '',
      rightTitleThird: '',
      rightTextThird: '',
      rightTitleForth: '',
      rightTextForth: '',
      leftPriceFirst: '500 ₽',
      leftPriceSecond: '600 ₽',
      leftPriceThird: '500 ₽',
      leftPriceForth: '',
      rightPriceFirst: '',
      rightPriceSecond: '',
      rightPriceThird: '',
      rightPriceForth: ''
    };
    setText(browsData);
  } else if (e.target.id === 'massage') {
    var massageData = {
      leftTitleFirst: 'Лимфодренажный массаж',
      leftTextFirst: '60 минут',
      leftTitleSecond: 'Лечебный массаж',
      leftTextSecond: '40 минут',
      leftTitleThird: 'Русский SPA массаж',
      leftTextThird: '120 минут',
      leftTitleForth: 'Сибирское SPA',
      leftTextForth: '120 минут',
      rightTitleFirst: 'Березовое SPA',
      rightTextFirst: '120 минут',
      rightTitleSecond: 'Вулканический уход',
      rightTextSecond: '150 минут',
      rightTitleThird: '',
      rightTextThird: '',
      rightTitleForth: '',
      rightTextForth: '',
      leftPriceFirst: '2100 ₽',
      leftPriceSecond: '1500 ₽',
      leftPriceThird: '3300 ₽',
      leftPriceForth: '4900 ₽',
      rightPriceFirst: '7500 ₽',
      rightPriceSecond: '7500 ₽',
      rightPriceThird: '',
      rightPriceForth: ''
    };
    setText(massageData);
  }
}
function setText(data) {
  var leftTitleFirst = document.getElementById('left-title-first');
  var leftTitleSecond = document.getElementById('left-title-second');
  var leftTitleThird = document.getElementById('left-title-third');
  var leftTitleForth = document.getElementById('left-title-forth');
  var leftTextFirst = document.getElementById('left-text-first');
  var leftTextSecond = document.getElementById('left-text-second');
  var leftTextThird = document.getElementById('left-text-third');
  var leftTextForth = document.getElementById('left-text-forth');
  var rightTitleFirst = document.getElementById('right-title-first');
  var rightTitleSecond = document.getElementById('right-title-second');
  var rightTitleThird = document.getElementById('right-title-third');
  var rightTitleForth = document.getElementById('right-title-forth');
  var rightTextFirst = document.getElementById('right-text-first');
  var rightTextSecond = document.getElementById('right-text-second');
  var rightTextThird = document.getElementById('right-text-third');
  var rightTextForth = document.getElementById('right-text-forth');
  var leftPriceFirst = document.getElementById('left-price-first');
  var leftPriceSecond = document.getElementById('left-price-second');
  var leftPriceThird = document.getElementById('left-price-third');
  var leftPriceForth = document.getElementById('left-price-forth');
  var rightPriceFirst = document.getElementById('right-price-first');
  var rightPriceSecond = document.getElementById('right-price-second');
  var rightPriceThird = document.getElementById('right-price-third');
  var rightPriceForth = document.getElementById('right-price-forth');
  leftTitleFirst.textContent = data.leftTitleFirst;
  leftTextFirst.textContent = data.leftTextFirst;
  leftTitleSecond.textContent = data.leftTitleSecond;
  leftTextSecond.textContent = data.leftTextSecond;
  leftTitleThird.textContent = data.leftTitleThird;
  leftTextThird.textContent = data.leftTextThird;
  leftTitleForth.textContent = data.leftTitleForth;
  leftTextForth.textContent = data.leftTextForth;
  rightTitleFirst.textContent = data.rightTitleFirst;
  rightTextFirst.textContent = data.rightTextFirst;
  rightTitleSecond.textContent = data.rightTitleSecond;
  rightTextSecond.textContent = data.rightTextSecond;
  rightTitleThird.textContent = data.rightTitleThird;
  rightTextThird.textContent = data.rightTextThird;
  rightTitleForth.textContent = data.rightTitleForth;
  rightTextForth.textContent = data.rightTextForth;
  leftPriceFirst.textContent = data.leftPriceFirst;
  leftPriceSecond.textContent = data.leftPriceSecond;
  leftPriceThird.textContent = data.leftPriceThird;
  leftPriceForth.textContent = data.leftPriceForth;
  rightPriceFirst.textContent = data.rightPriceFirst;
  rightPriceSecond.textContent = data.rightPriceSecond;
  rightPriceThird.textContent = data.rightPriceThird;
  rightPriceForth.textContent = data.rightPriceForth;
}
var hamb = document.querySelector("#hamb");
var popup = document.querySelector("#popup");
var html = document.html;
var menuHamb = document.querySelector("#menu");
hamb.addEventListener("click", hambHandler);
function hambHandler(e) {
  e.preventDefault();
  popup.classList.toggle("open");
  hamb.classList.toggle("active");
  html.classList.toggle("noscroll");
}
var links = Array.from(menuHamb.children);
links.forEach(function (link) {
  link.addEventListener("click", closeOnClick);
});
function closeOnClick() {
  popup.classList.remove("open");
  hamb.classList.remove("active");
  html.classList.remove("noscroll");
}
var smoothLinks = document.querySelectorAll('a[href^="#"]');
var _iterator = _createForOfIteratorHelper(smoothLinks),
  _step;
try {
  var _loop = function _loop() {
    var smoothLink = _step.value;
    smoothLink.addEventListener('click', function (e) {
      e.preventDefault();
      var id = smoothLink.getAttribute('href');
      document.querySelector(id).scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
    });
  };
  for (_iterator.s(); !(_step = _iterator.n()).done;) {
    _loop();
  }
} catch (err) {
  _iterator.e(err);
} finally {
  _iterator.f();
}
function getFormFancyboxData() {
  return _getFormFancyboxData.apply(this, arguments);
}
function _getFormFancyboxData() {
  _getFormFancyboxData = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee2() {
    var data, name, phone, masterId, serviceId, visitDate, response, result;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            data = new FormData(formFancybox);
            name = data.get('name');
            phone = data.get('phone');
            masterId = data.get('masterId');
            serviceId = data.get('serviceId');
            visitDate = data.get('visitDate');
            _context2.prev = 6;
            document.getElementById("fancyButton").disabled = true;
            document.getElementById("fancyButton").classList.add('disabled');
            formFancybox.querySelector(".contacts__preloader").classList.remove('hidden');
            _context2.next = 12;
            return fetch('https://beauty-saloon-server.herokuapp.com/api/orders', {
              method: 'POST',
              body: JSON.stringify({
                name: name,
                phone: phone,
                masterId: masterId,
                serviceId: serviceId,
                visitDate: visitDate
              })
            });
          case 12:
            response = _context2.sent;
            _context2.next = 15;
            return response.json();
          case 15:
            result = _context2.sent;
            document.getElementById("fancyButton").disabled = false;
            document.getElementById("fancyButton").classList.remove('disabled');
            formFancybox.querySelector(".contacts__preloader").classList.add('hidden');
            formFancybox.querySelector(".contacts__result-message").classList.remove('hidden');
            setTimeout(function () {
              formFancybox.querySelector(".contacts__result-message").classList.add('hidden');
              window.location.href = window.location.href.replace("#dialogHeader", '');
              window.location.href = window.location.href.replace("#dialogFirst", '#popular');
              window.location.href = window.location.href.replace("#dialogSecond", '#popular');
              window.location.href = window.location.href.replace("#dialogThird", '#popular');
              window.location.href = window.location.href.replace("#dialogFourth", '#popular');
              window.location.href = window.location.href.replace("#dialogFifth", '#popular');
              window.location.href = window.location.href.replace("#dialogMaster1", '#masters');
              window.location.href = window.location.href.replace("#dialogMaster2", '#masters');
              window.location.href = window.location.href.replace("#dialogMaster3", '#masters');
              window.location.href = window.location.href.replace("#dialogMaster4", '#masters');
            }, 3000);
            console.log('Успех:', JSON.stringify(result));
            _context2.next = 27;
            break;
          case 24:
            _context2.prev = 24;
            _context2.t0 = _context2["catch"](6);
            console.error('Ошибка:', _context2.t0);
          case 27:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[6, 24]]);
  }));
  return _getFormFancyboxData.apply(this, arguments);
}
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxjQUFjLHNHQUFpQztBQUMvQztBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsR0FBRyxFQUFFLHlCQUF5QixTQUFTLHlCQUF5QjtBQUNoRSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzQ0FBc0MseUJBQXlCLFNBQVMseUJBQXlCOzs7Ozs7Ozs7O0FDMVRqRztBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHLEVBQUUseUJBQXlCLFNBQVMseUJBQXlCO0FBQ2hFO0FBQ0EsMEJBQTBCLHlCQUF5QixTQUFTLHlCQUF5Qjs7Ozs7Ozs7OztBQ1RyRjs7QUFFQSxjQUFjLG1CQUFPLENBQUMsa0dBQStCO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7Ozs7O1VDN0JBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7O1dDdEJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxpQ0FBaUMsV0FBVztXQUM1QztXQUNBOzs7OztXQ1BBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ05BLElBQU1BLElBQUksR0FBR0MsUUFBUSxDQUFDQyxjQUFjLENBQUMsTUFBTSxDQUFDO0FBQzVDLElBQU1DLFlBQVksR0FBR0YsUUFBUSxDQUFDQyxjQUFjLENBQUMsZUFBZSxDQUFDO0FBQUEsU0FFOUNFLFdBQVc7RUFBQTtBQUFBO0FBQUE7RUFBQSx3TEFBMUI7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ1VDLElBQUksR0FBRyxJQUFJQyxRQUFRLENBQUNOLElBQUksQ0FBQztZQUMzQk8sSUFBSSxHQUFHRixJQUFJLENBQUNHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDdkJDLEtBQUssR0FBR0osSUFBSSxDQUFDRyxHQUFHLENBQUMsT0FBTyxDQUFDO1lBQUE7WUFJekJQLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDUSxRQUFRLEdBQUcsSUFBSTtZQUNyRFQsUUFBUSxDQUFDQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUNTLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLFVBQVUsQ0FBQztZQUMvRFosSUFBSSxDQUFDYSxhQUFhLENBQUMsc0JBQXNCLENBQUMsQ0FBQ0YsU0FBUyxDQUFDRyxNQUFNLENBQUMsUUFBUSxDQUFDO1lBQUE7WUFBQSxPQUM5Q0MsS0FBSyxDQUFDLHVEQUF1RCxFQUFFO2NBQ2xGQyxNQUFNLEVBQUUsTUFBTTtjQUNkQyxJQUFJLEVBQUVDLElBQUksQ0FBQ0MsU0FBUyxDQUFDO2dCQUNqQlosSUFBSSxFQUFKQSxJQUFJO2dCQUNKRSxLQUFLLEVBQUxBO2NBQ0osQ0FBQztZQUNMLENBQUMsQ0FBQztVQUFBO1lBTklXLFFBQVE7WUFBQTtZQUFBLE9BT09BLFFBQVEsQ0FBQ0MsSUFBSSxFQUFFO1VBQUE7WUFBOUJDLE1BQU07WUFDWnJCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDUSxRQUFRLEdBQUcsS0FBSztZQUN0RFQsUUFBUSxDQUFDQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUNTLFNBQVMsQ0FBQ0csTUFBTSxDQUFDLFVBQVUsQ0FBQztZQUNsRWQsSUFBSSxDQUFDYSxhQUFhLENBQUMsc0JBQXNCLENBQUMsQ0FBQ0YsU0FBUyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1lBQ2xFWixJQUFJLENBQUNhLGFBQWEsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDRixTQUFTLENBQUNHLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFDMUVTLFVBQVUsQ0FBQyxZQUFNO2NBQ2J2QixJQUFJLENBQUNhLGFBQWEsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDRixTQUFTLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7WUFDM0UsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUNSWSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLEVBQUVQLElBQUksQ0FBQ0MsU0FBUyxDQUFDRyxNQUFNLENBQUMsQ0FBQztZQUFDO1lBQUE7VUFBQTtZQUFBO1lBQUE7WUFFOUNFLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDLFNBQVMsY0FBUTtVQUFDO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBRXZDO0VBQUE7QUFBQTtBQUVELElBQU1DLElBQUksR0FBRzFCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFlBQVksQ0FBQztBQUNsRHlCLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUMsT0FBTyxFQUFFQyxhQUFhLENBQUM7QUFFN0MsU0FBU0EsYUFBYSxDQUFDQyxDQUFDLEVBQUU7RUFDdEJBLENBQUMsQ0FBQ0MsY0FBYyxFQUFFO0VBQ2xCLElBQUlELENBQUMsQ0FBQ0UsTUFBTSxDQUFDQyxFQUFFLEtBQUssU0FBUyxFQUFFO0lBRTNCLElBQUlDLFdBQVcsR0FBRztNQUNkQyxjQUFjLEVBQUUsaUJBQWlCO01BQ2pDQyxhQUFhLEVBQUUsaUJBQWlCO01BRWhDQyxlQUFlLEVBQUUsaUJBQWlCO01BQ2xDQyxjQUFjLEVBQUUsaUJBQWlCO01BRWpDQyxjQUFjLEVBQUUsZUFBZTtNQUMvQkMsYUFBYSxFQUFFLGlCQUFpQjtNQUVoQ0MsY0FBYyxFQUFFLGtCQUFrQjtNQUNsQ0MsYUFBYSxFQUFFLGlCQUFpQjtNQUVoQ0MsZUFBZSxFQUFFLHVCQUF1QjtNQUN4Q0MsY0FBYyxFQUFFLGlCQUFpQjtNQUVqQ0MsZ0JBQWdCLEVBQUUsa0JBQWtCO01BQ3BDQyxlQUFlLEVBQUUsaUJBQWlCO01BRWxDQyxlQUFlLEVBQUUsZ0JBQWdCO01BQ2pDQyxjQUFjLEVBQUUsaUJBQWlCO01BRWpDQyxlQUFlLEVBQUUsK0JBQStCO01BQ2hEQyxjQUFjLEVBQUUsaUJBQWlCO01BRWpDQyxjQUFjLEVBQUUsUUFBUTtNQUN4QkMsZUFBZSxFQUFFLFFBQVE7TUFFekJDLGNBQWMsRUFBRSxRQUFRO01BQ3hCQyxjQUFjLEVBQUUsUUFBUTtNQUV4QkMsZUFBZSxFQUFFLFFBQVE7TUFDekJDLGdCQUFnQixFQUFFLFFBQVE7TUFFMUJDLGVBQWUsRUFBRSxRQUFRO01BQ3pCQyxlQUFlLEVBQUU7SUFDckIsQ0FBQztJQUNEQyxPQUFPLENBQUN6QixXQUFXLENBQUM7RUFFeEIsQ0FBQyxNQUFNLElBQUlKLENBQUMsQ0FBQ0UsTUFBTSxDQUFDQyxFQUFFLEtBQUssYUFBYSxFQUFFO0lBQ3RDLElBQUkyQixlQUFlLEdBQUc7TUFDbEJ6QixjQUFjLEVBQUUsb0JBQW9CO01BQ3BDQyxhQUFhLEVBQUUsY0FBYztNQUU3QkMsZUFBZSxFQUFFLG1CQUFtQjtNQUNwQ0MsY0FBYyxFQUFFLGNBQWM7TUFFOUJDLGNBQWMsRUFBRSxvQkFBb0I7TUFDcENDLGFBQWEsRUFBRSxjQUFjO01BRTdCQyxjQUFjLEVBQUUsRUFBRTtNQUNsQkMsYUFBYSxFQUFFLEVBQUU7TUFFakJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxjQUFjLEVBQUUsRUFBRTtNQUVsQkMsZ0JBQWdCLEVBQUUsRUFBRTtNQUNwQkMsZUFBZSxFQUFFLEVBQUU7TUFFbkJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxjQUFjLEVBQUUsRUFBRTtNQUVsQkMsZUFBZSxFQUFFLEVBQUU7TUFDbkJDLGNBQWMsRUFBRSxFQUFFO01BRWxCQyxjQUFjLEVBQUUsUUFBUTtNQUN4QkMsZUFBZSxFQUFFLFFBQVE7TUFFekJDLGNBQWMsRUFBRSxRQUFRO01BQ3hCQyxjQUFjLEVBQUUsRUFBRTtNQUVsQkMsZUFBZSxFQUFFLEVBQUU7TUFDbkJDLGdCQUFnQixFQUFFLEVBQUU7TUFFcEJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxlQUFlLEVBQUU7SUFDckIsQ0FBQztJQUVEQyxPQUFPLENBQUNDLGVBQWUsQ0FBQztFQUU1QixDQUFDLE1BQU0sSUFBSTlCLENBQUMsQ0FBQ0UsTUFBTSxDQUFDQyxFQUFFLEtBQUssT0FBTyxFQUFFO0lBQ2hDLElBQUk0QixTQUFTLEdBQUc7TUFDWjFCLGNBQWMsRUFBRSxTQUFTO01BQ3pCQyxhQUFhLEVBQUUsVUFBVTtNQUV6QkMsZUFBZSxFQUFFLFNBQVM7TUFDMUJDLGNBQWMsRUFBRSxVQUFVO01BRTFCQyxjQUFjLEVBQUUsYUFBYTtNQUM3QkMsYUFBYSxFQUFFLFVBQVU7TUFFekJDLGNBQWMsRUFBRSxhQUFhO01BQzdCQyxhQUFhLEVBQUUsVUFBVTtNQUV6QkMsZUFBZSxFQUFFLEVBQUU7TUFDbkJDLGNBQWMsRUFBRSxFQUFFO01BRWxCQyxnQkFBZ0IsRUFBRSxFQUFFO01BQ3BCQyxlQUFlLEVBQUUsRUFBRTtNQUVuQkMsZUFBZSxFQUFFLEVBQUU7TUFDbkJDLGNBQWMsRUFBRSxFQUFFO01BRWxCQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsY0FBYyxFQUFFLEVBQUU7TUFFbEJDLGNBQWMsRUFBRSxRQUFRO01BQ3hCQyxlQUFlLEVBQUUsUUFBUTtNQUV6QkMsY0FBYyxFQUFFLE9BQU87TUFDdkJDLGNBQWMsRUFBRSxPQUFPO01BRXZCQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsZ0JBQWdCLEVBQUUsRUFBRTtNQUVwQkMsZUFBZSxFQUFFLEVBQUU7TUFDbkJDLGVBQWUsRUFBRTtJQUNyQixDQUFDO0lBRURDLE9BQU8sQ0FBQ0UsU0FBUyxDQUFDO0VBRXRCLENBQUMsTUFBTSxJQUFJL0IsQ0FBQyxDQUFDRSxNQUFNLENBQUNDLEVBQUUsS0FBSyxRQUFRLEVBQUU7SUFDakMsSUFBSTZCLFVBQVUsR0FBRztNQUNiM0IsY0FBYyxFQUFFLGdCQUFnQjtNQUNoQ0MsYUFBYSxFQUFFLFVBQVU7TUFFekJDLGVBQWUsRUFBRSxpQkFBaUI7TUFDbENDLGNBQWMsRUFBRSxVQUFVO01BRTFCQyxjQUFjLEVBQUUsU0FBUztNQUN6QkMsYUFBYSxFQUFFLFVBQVU7TUFFekJDLGNBQWMsRUFBRSx1QkFBdUI7TUFDdkNDLGFBQWEsRUFBRSxVQUFVO01BRXpCQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsY0FBYyxFQUFFLEVBQUU7TUFFbEJDLGdCQUFnQixFQUFFLEVBQUU7TUFDcEJDLGVBQWUsRUFBRSxFQUFFO01BRW5CQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsY0FBYyxFQUFFLEVBQUU7TUFFbEJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxjQUFjLEVBQUUsRUFBRTtNQUVsQkMsY0FBYyxFQUFFLFFBQVE7TUFDeEJDLGVBQWUsRUFBRSxRQUFRO01BRXpCQyxjQUFjLEVBQUUsUUFBUTtNQUN4QkMsY0FBYyxFQUFFLFFBQVE7TUFFeEJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxnQkFBZ0IsRUFBRSxFQUFFO01BRXBCQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsZUFBZSxFQUFFO0lBQ3JCLENBQUM7SUFFREMsT0FBTyxDQUFDRyxVQUFVLENBQUM7RUFFdkIsQ0FBQyxNQUFNLElBQUloQyxDQUFDLENBQUNFLE1BQU0sQ0FBQ0MsRUFBRSxLQUFLLE9BQU8sRUFBRTtJQUNoQyxJQUFJOEIsU0FBUyxHQUFHO01BQ1o1QixjQUFjLEVBQUUsa0JBQWtCO01BQ2xDQyxhQUFhLEVBQUUsVUFBVTtNQUV6QkMsZUFBZSxFQUFFLHNCQUFzQjtNQUN2Q0MsY0FBYyxFQUFFLFVBQVU7TUFFMUJDLGNBQWMsRUFBRSxvQkFBb0I7TUFDcENDLGFBQWEsRUFBRSxVQUFVO01BRXpCQyxjQUFjLEVBQUUsRUFBRTtNQUNsQkMsYUFBYSxFQUFFLEVBQUU7TUFFakJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxjQUFjLEVBQUUsRUFBRTtNQUVsQkMsZ0JBQWdCLEVBQUUsRUFBRTtNQUNwQkMsZUFBZSxFQUFFLEVBQUU7TUFFbkJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxjQUFjLEVBQUUsRUFBRTtNQUVsQkMsZUFBZSxFQUFFLEVBQUU7TUFDbkJDLGNBQWMsRUFBRSxFQUFFO01BRWxCQyxjQUFjLEVBQUUsT0FBTztNQUN2QkMsZUFBZSxFQUFFLE9BQU87TUFFeEJDLGNBQWMsRUFBRSxPQUFPO01BQ3ZCQyxjQUFjLEVBQUUsRUFBRTtNQUVsQkMsZUFBZSxFQUFFLEVBQUU7TUFDbkJDLGdCQUFnQixFQUFFLEVBQUU7TUFFcEJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxlQUFlLEVBQUU7SUFDckIsQ0FBQztJQUVEQyxPQUFPLENBQUNJLFNBQVMsQ0FBQztFQUV0QixDQUFDLE1BQU0sSUFBSWpDLENBQUMsQ0FBQ0UsTUFBTSxDQUFDQyxFQUFFLEtBQUssU0FBUyxFQUFFO0lBQ2xDLElBQUkrQixXQUFXLEdBQUc7TUFDZDdCLGNBQWMsRUFBRSx1QkFBdUI7TUFDdkNDLGFBQWEsRUFBRSxVQUFVO01BRXpCQyxlQUFlLEVBQUUsaUJBQWlCO01BQ2xDQyxjQUFjLEVBQUUsVUFBVTtNQUUxQkMsY0FBYyxFQUFFLG9CQUFvQjtNQUNwQ0MsYUFBYSxFQUFFLFdBQVc7TUFFMUJDLGNBQWMsRUFBRSxlQUFlO01BQy9CQyxhQUFhLEVBQUUsV0FBVztNQUUxQkMsZUFBZSxFQUFFLGVBQWU7TUFDaENDLGNBQWMsRUFBRSxXQUFXO01BRTNCQyxnQkFBZ0IsRUFBRSxvQkFBb0I7TUFDdENDLGVBQWUsRUFBRSxXQUFXO01BRTVCQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsY0FBYyxFQUFFLEVBQUU7TUFFbEJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxjQUFjLEVBQUUsRUFBRTtNQUVsQkMsY0FBYyxFQUFFLFFBQVE7TUFDeEJDLGVBQWUsRUFBRSxRQUFRO01BRXpCQyxjQUFjLEVBQUUsUUFBUTtNQUN4QkMsY0FBYyxFQUFFLFFBQVE7TUFFeEJDLGVBQWUsRUFBRSxRQUFRO01BQ3pCQyxnQkFBZ0IsRUFBRSxRQUFRO01BRTFCQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsZUFBZSxFQUFFO0lBQ3JCLENBQUM7SUFFREMsT0FBTyxDQUFDSyxXQUFXLENBQUM7RUFDeEI7QUFFSjtBQUVBLFNBQVNMLE9BQU8sQ0FBQ3RELElBQUksRUFBRTtFQUNuQixJQUFJOEIsY0FBYyxHQUFHbEMsUUFBUSxDQUFDQyxjQUFjLENBQUMsa0JBQWtCLENBQUM7RUFDaEUsSUFBSW1DLGVBQWUsR0FBR3BDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG1CQUFtQixDQUFDO0VBQ2xFLElBQUlxQyxjQUFjLEdBQUd0QyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztFQUNoRSxJQUFJdUMsY0FBYyxHQUFHeEMsUUFBUSxDQUFDQyxjQUFjLENBQUMsa0JBQWtCLENBQUM7RUFDaEUsSUFBSWtDLGFBQWEsR0FBR25DLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGlCQUFpQixDQUFDO0VBQzlELElBQUlvQyxjQUFjLEdBQUdyQyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztFQUNoRSxJQUFJc0MsYUFBYSxHQUFHdkMsUUFBUSxDQUFDQyxjQUFjLENBQUMsaUJBQWlCLENBQUM7RUFDOUQsSUFBSXdDLGFBQWEsR0FBR3pDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGlCQUFpQixDQUFDO0VBQzlELElBQUl5QyxlQUFlLEdBQUcxQyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQztFQUNsRSxJQUFJMkMsZ0JBQWdCLEdBQUc1QyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxvQkFBb0IsQ0FBQztFQUNwRSxJQUFJNkMsZUFBZSxHQUFHOUMsUUFBUSxDQUFDQyxjQUFjLENBQUMsbUJBQW1CLENBQUM7RUFDbEUsSUFBSStDLGVBQWUsR0FBR2hELFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG1CQUFtQixDQUFDO0VBQ2xFLElBQUkwQyxjQUFjLEdBQUczQyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztFQUNoRSxJQUFJNEMsZUFBZSxHQUFHN0MsUUFBUSxDQUFDQyxjQUFjLENBQUMsbUJBQW1CLENBQUM7RUFDbEUsSUFBSThDLGNBQWMsR0FBRy9DLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGtCQUFrQixDQUFDO0VBQ2hFLElBQUlnRCxjQUFjLEdBQUdqRCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztFQUNoRSxJQUFJaUQsY0FBYyxHQUFHbEQsUUFBUSxDQUFDQyxjQUFjLENBQUMsa0JBQWtCLENBQUM7RUFDaEUsSUFBSWtELGVBQWUsR0FBR25ELFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG1CQUFtQixDQUFDO0VBQ2xFLElBQUltRCxjQUFjLEdBQUdwRCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztFQUNoRSxJQUFJb0QsY0FBYyxHQUFHckQsUUFBUSxDQUFDQyxjQUFjLENBQUMsa0JBQWtCLENBQUM7RUFDaEUsSUFBSXFELGVBQWUsR0FBR3RELFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG1CQUFtQixDQUFDO0VBQ2xFLElBQUlzRCxnQkFBZ0IsR0FBR3ZELFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG9CQUFvQixDQUFDO0VBQ3BFLElBQUl1RCxlQUFlLEdBQUd4RCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQztFQUNsRSxJQUFJd0QsZUFBZSxHQUFHekQsUUFBUSxDQUFDQyxjQUFjLENBQUMsbUJBQW1CLENBQUM7RUFFbEVpQyxjQUFjLENBQUM4QixXQUFXLEdBQUc1RCxJQUFJLENBQUM4QixjQUFjO0VBQ2hEQyxhQUFhLENBQUM2QixXQUFXLEdBQUc1RCxJQUFJLENBQUMrQixhQUFhO0VBRTlDQyxlQUFlLENBQUM0QixXQUFXLEdBQUc1RCxJQUFJLENBQUNnQyxlQUFlO0VBQ2xEQyxjQUFjLENBQUMyQixXQUFXLEdBQUc1RCxJQUFJLENBQUNpQyxjQUFjO0VBRWhEQyxjQUFjLENBQUMwQixXQUFXLEdBQUc1RCxJQUFJLENBQUNrQyxjQUFjO0VBQ2hEQyxhQUFhLENBQUN5QixXQUFXLEdBQUc1RCxJQUFJLENBQUNtQyxhQUFhO0VBRTlDQyxjQUFjLENBQUN3QixXQUFXLEdBQUc1RCxJQUFJLENBQUNvQyxjQUFjO0VBQ2hEQyxhQUFhLENBQUN1QixXQUFXLEdBQUc1RCxJQUFJLENBQUNxQyxhQUFhO0VBRTlDQyxlQUFlLENBQUNzQixXQUFXLEdBQUc1RCxJQUFJLENBQUNzQyxlQUFlO0VBQ2xEQyxjQUFjLENBQUNxQixXQUFXLEdBQUc1RCxJQUFJLENBQUN1QyxjQUFjO0VBRWhEQyxnQkFBZ0IsQ0FBQ29CLFdBQVcsR0FBRzVELElBQUksQ0FBQ3dDLGdCQUFnQjtFQUNwREMsZUFBZSxDQUFDbUIsV0FBVyxHQUFHNUQsSUFBSSxDQUFDeUMsZUFBZTtFQUVsREMsZUFBZSxDQUFDa0IsV0FBVyxHQUFHNUQsSUFBSSxDQUFDMEMsZUFBZTtFQUNsREMsY0FBYyxDQUFDaUIsV0FBVyxHQUFHNUQsSUFBSSxDQUFDMkMsY0FBYztFQUVoREMsZUFBZSxDQUFDZ0IsV0FBVyxHQUFHNUQsSUFBSSxDQUFDNEMsZUFBZTtFQUNsREMsY0FBYyxDQUFDZSxXQUFXLEdBQUc1RCxJQUFJLENBQUM2QyxjQUFjO0VBRWhEQyxjQUFjLENBQUNjLFdBQVcsR0FBRzVELElBQUksQ0FBQzhDLGNBQWM7RUFDaERDLGVBQWUsQ0FBQ2EsV0FBVyxHQUFHNUQsSUFBSSxDQUFDK0MsZUFBZTtFQUVsREMsY0FBYyxDQUFDWSxXQUFXLEdBQUc1RCxJQUFJLENBQUNnRCxjQUFjO0VBQ2hEQyxjQUFjLENBQUNXLFdBQVcsR0FBRzVELElBQUksQ0FBQ2lELGNBQWM7RUFFaERDLGVBQWUsQ0FBQ1UsV0FBVyxHQUFHNUQsSUFBSSxDQUFDa0QsZUFBZTtFQUNsREMsZ0JBQWdCLENBQUNTLFdBQVcsR0FBRzVELElBQUksQ0FBQ21ELGdCQUFnQjtFQUVwREMsZUFBZSxDQUFDUSxXQUFXLEdBQUc1RCxJQUFJLENBQUNvRCxlQUFlO0VBQ2xEQyxlQUFlLENBQUNPLFdBQVcsR0FBRzVELElBQUksQ0FBQ3FELGVBQWU7QUFDdEQ7QUFFQSxJQUFNUSxJQUFJLEdBQUdqRSxRQUFRLENBQUNZLGFBQWEsQ0FBQyxPQUFPLENBQUM7QUFDNUMsSUFBTXNELEtBQUssR0FBR2xFLFFBQVEsQ0FBQ1ksYUFBYSxDQUFDLFFBQVEsQ0FBQztBQUM5QyxJQUFNdUQsSUFBSSxHQUFHbkUsUUFBUSxDQUFDbUUsSUFBSTtBQUMxQixJQUFNQyxRQUFRLEdBQUdwRSxRQUFRLENBQUNZLGFBQWEsQ0FBQyxPQUFPLENBQUM7QUFFaERxRCxJQUFJLENBQUN0QyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUwQyxXQUFXLENBQUM7QUFFM0MsU0FBU0EsV0FBVyxDQUFDeEMsQ0FBQyxFQUFFO0VBQ3BCQSxDQUFDLENBQUNDLGNBQWMsRUFBRTtFQUNsQm9DLEtBQUssQ0FBQ3hELFNBQVMsQ0FBQzRELE1BQU0sQ0FBQyxNQUFNLENBQUM7RUFDOUJMLElBQUksQ0FBQ3ZELFNBQVMsQ0FBQzRELE1BQU0sQ0FBQyxRQUFRLENBQUM7RUFDL0JILElBQUksQ0FBQ3pELFNBQVMsQ0FBQzRELE1BQU0sQ0FBQyxVQUFVLENBQUM7QUFDckM7QUFFQSxJQUFNQyxLQUFLLEdBQUdDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDTCxRQUFRLENBQUNNLFFBQVEsQ0FBQztBQUUzQ0gsS0FBSyxDQUFDSSxPQUFPLENBQUMsVUFBQ0MsSUFBSSxFQUFLO0VBQ3BCQSxJQUFJLENBQUNqRCxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUVrRCxZQUFZLENBQUM7QUFDaEQsQ0FBQyxDQUFDO0FBRUYsU0FBU0EsWUFBWSxHQUFHO0VBQ3BCWCxLQUFLLENBQUN4RCxTQUFTLENBQUNHLE1BQU0sQ0FBQyxNQUFNLENBQUM7RUFDOUJvRCxJQUFJLENBQUN2RCxTQUFTLENBQUNHLE1BQU0sQ0FBQyxRQUFRLENBQUM7RUFDL0JzRCxJQUFJLENBQUN6RCxTQUFTLENBQUNHLE1BQU0sQ0FBQyxVQUFVLENBQUM7QUFDckM7QUFFQSxJQUFNaUUsV0FBVyxHQUFHOUUsUUFBUSxDQUFDK0UsZ0JBQWdCLENBQUMsY0FBYyxDQUFDO0FBQUMsMkNBQ3ZDRCxXQUFXO0VBQUE7QUFBQTtFQUFBO0lBQUEsSUFBekJFLFVBQVU7SUFDZkEsVUFBVSxDQUFDckQsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVVFLENBQUMsRUFBRTtNQUM5Q0EsQ0FBQyxDQUFDQyxjQUFjLEVBQUU7TUFDbEIsSUFBTUUsRUFBRSxHQUFHZ0QsVUFBVSxDQUFDQyxZQUFZLENBQUMsTUFBTSxDQUFDO01BRTFDakYsUUFBUSxDQUFDWSxhQUFhLENBQUNvQixFQUFFLENBQUMsQ0FBQ2tELGNBQWMsQ0FBQztRQUN0Q0MsUUFBUSxFQUFFLFFBQVE7UUFDbEJDLEtBQUssRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztFQUFDO0VBVFAsb0RBQW9DO0lBQUE7RUFVcEM7QUFBQztFQUFBO0FBQUE7RUFBQTtBQUFBO0FBQUEsU0FFY0MsbUJBQW1CO0VBQUE7QUFBQTtBQUFBO0VBQUEsZ01BQWxDO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUNVakYsSUFBSSxHQUFHLElBQUlDLFFBQVEsQ0FBQ0gsWUFBWSxDQUFDO1lBQ25DSSxJQUFJLEdBQUdGLElBQUksQ0FBQ0csR0FBRyxDQUFDLE1BQU0sQ0FBQztZQUN2QkMsS0FBSyxHQUFHSixJQUFJLENBQUNHLEdBQUcsQ0FBQyxPQUFPLENBQUM7WUFDekIrRSxRQUFRLEdBQUdsRixJQUFJLENBQUNHLEdBQUcsQ0FBQyxVQUFVLENBQUM7WUFDL0JnRixTQUFTLEdBQUduRixJQUFJLENBQUNHLEdBQUcsQ0FBQyxXQUFXLENBQUM7WUFDakNpRixTQUFTLEdBQUdwRixJQUFJLENBQUNHLEdBQUcsQ0FBQyxXQUFXLENBQUM7WUFBQTtZQUlqQ1AsUUFBUSxDQUFDQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUNRLFFBQVEsR0FBRyxJQUFJO1lBQ3REVCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQ1MsU0FBUyxDQUFDQyxHQUFHLENBQUMsVUFBVSxDQUFDO1lBQ2hFVCxZQUFZLENBQUNVLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDRixTQUFTLENBQUNHLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFBQTtZQUFBLE9BQ3REQyxLQUFLLENBQUMsdURBQXVELEVBQUU7Y0FDbEZDLE1BQU0sRUFBRSxNQUFNO2NBQ2RDLElBQUksRUFBRUMsSUFBSSxDQUFDQyxTQUFTLENBQUM7Z0JBQ2pCWixJQUFJLEVBQUpBLElBQUk7Z0JBQ0pFLEtBQUssRUFBTEEsS0FBSztnQkFDTDhFLFFBQVEsRUFBUkEsUUFBUTtnQkFDUkMsU0FBUyxFQUFUQSxTQUFTO2dCQUNUQyxTQUFTLEVBQVRBO2NBQ0osQ0FBQztZQUNMLENBQUMsQ0FBQztVQUFBO1lBVElyRSxRQUFRO1lBQUE7WUFBQSxPQVVPQSxRQUFRLENBQUNDLElBQUksRUFBRTtVQUFBO1lBQTlCQyxNQUFNO1lBQ1pyQixRQUFRLENBQUNDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQ1EsUUFBUSxHQUFHLEtBQUs7WUFDdkRULFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDUyxTQUFTLENBQUNHLE1BQU0sQ0FBQyxVQUFVLENBQUM7WUFDbkVYLFlBQVksQ0FBQ1UsYUFBYSxDQUFDLHNCQUFzQixDQUFDLENBQUNGLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztZQUMxRVQsWUFBWSxDQUFDVSxhQUFhLENBQUMsMkJBQTJCLENBQUMsQ0FBQ0YsU0FBUyxDQUFDRyxNQUFNLENBQUMsUUFBUSxDQUFDO1lBQ2xGUyxVQUFVLENBQUMsWUFBTTtjQUNicEIsWUFBWSxDQUFDVSxhQUFhLENBQUMsMkJBQTJCLENBQUMsQ0FBQ0YsU0FBUyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO2NBQy9FOEUsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksR0FBR0YsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUM7Y0FDeEVILE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLEdBQUdGLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUNDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsVUFBVSxDQUFDO2NBQy9FSCxNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHRixNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUMsZUFBZSxFQUFFLFVBQVUsQ0FBQztjQUNoRkgsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksR0FBR0YsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDLGNBQWMsRUFBRSxVQUFVLENBQUM7Y0FDL0VILE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLEdBQUdGLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUNDLE9BQU8sQ0FBQyxlQUFlLEVBQUUsVUFBVSxDQUFDO2NBQ2hGSCxNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHRixNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUMsY0FBYyxFQUFFLFVBQVUsQ0FBQztjQUMvRUgsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksR0FBR0YsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDLGdCQUFnQixFQUFFLFVBQVUsQ0FBQztjQUNqRkgsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksR0FBR0YsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDLGdCQUFnQixFQUFFLFVBQVUsQ0FBQztjQUNqRkgsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksR0FBR0YsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDLGdCQUFnQixFQUFFLFVBQVUsQ0FBQztjQUNqRkgsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksR0FBR0YsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDLGdCQUFnQixFQUFFLFVBQVUsQ0FBQztZQUNyRixDQUFDLEVBQUUsSUFBSSxDQUFDO1lBQ1JyRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLEVBQUVQLElBQUksQ0FBQ0MsU0FBUyxDQUFDRyxNQUFNLENBQUMsQ0FBQztZQUFDO1lBQUE7VUFBQTtZQUFBO1lBQUE7WUFFOUNFLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDLFNBQVMsZUFBUTtVQUFDO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBRXZDO0VBQUE7QUFBQSxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVhdXR5LXNhbG9vbi8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3JlZ2VuZXJhdG9yUnVudGltZS5qcyIsIndlYnBhY2s6Ly9iZWF1dHktc2Fsb29uLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovL2JlYXV0eS1zYWxvb24vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmVhdXR5LXNhbG9vbi8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2JlYXV0eS1zYWxvb24vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmVhdXR5LXNhbG9vbi93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9iZWF1dHktc2Fsb29uL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iZWF1dHktc2Fsb29uL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmVhdXR5LXNhbG9vbi93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2JlYXV0eS1zYWxvb24vLi9zaXRlL3NyYy9qcy9zY3JpcHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF90eXBlb2YgPSByZXF1aXJlKFwiLi90eXBlb2YuanNcIilbXCJkZWZhdWx0XCJdO1xuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7IC8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi9cbiAgbW9kdWxlLmV4cG9ydHMgPSBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHtcbiAgICByZXR1cm4gZXhwb3J0cztcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuICB2YXIgZXhwb3J0cyA9IHt9LFxuICAgIE9wID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAob2JqLCBrZXksIGRlc2MpIHtcbiAgICAgIG9ialtrZXldID0gZGVzYy52YWx1ZTtcbiAgICB9LFxuICAgICRTeW1ib2wgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LFxuICAgIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIixcbiAgICBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgd3JpdGFibGU6ICEwXG4gICAgfSksIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3IsXG4gICAgICBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSksXG4gICAgICBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShnZW5lcmF0b3IsIFwiX2ludm9rZVwiLCB7XG4gICAgICB2YWx1ZTogbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KVxuICAgIH0pLCBnZW5lcmF0b3I7XG4gIH1cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwibm9ybWFsXCIsXG4gICAgICAgIGFyZzogZm4uY2FsbChvYmosIGFyZylcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInRocm93XCIsXG4gICAgICAgIGFyZzogZXJyXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIGRlZmluZShJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkgJiYgKEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUpO1xuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAoXCJ0aHJvd1wiICE9PSByZWNvcmQudHlwZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZyxcbiAgICAgICAgICB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlICYmIFwib2JqZWN0XCIgPT0gX3R5cGVvZih2YWx1ZSkgJiYgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSA/IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KSA6IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZCwgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgIH1cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuICAgIGRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ludm9rZVwiLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobWV0aG9kLCBhcmcpIHtcbiAgICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoXCJleGVjdXRpbmdcIiA9PT0gc3RhdGUpIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICBpZiAoXCJjb21wbGV0ZWRcIiA9PT0gc3RhdGUpIHtcbiAgICAgICAgaWYgKFwidGhyb3dcIiA9PT0gbWV0aG9kKSB0aHJvdyBhcmc7XG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnRleHQubWV0aG9kID0gbWV0aG9kLCBjb250ZXh0LmFyZyA9IGFyZzs7KSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwibmV4dFwiID09PSBjb250ZXh0Lm1ldGhvZCkgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gY29udGV4dC5tZXRob2QpIHtcbiAgICAgICAgICBpZiAoXCJzdXNwZW5kZWRTdGFydFwiID09PSBzdGF0ZSkgdGhyb3cgc3RhdGUgPSBcImNvbXBsZXRlZFwiLCBjb250ZXh0LmFyZztcbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcbiAgICAgICAgfSBlbHNlIFwicmV0dXJuXCIgPT09IGNvbnRleHQubWV0aG9kICYmIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgc3RhdGUgPSBcImV4ZWN1dGluZ1wiO1xuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChcIm5vcm1hbFwiID09PSByZWNvcmQudHlwZSkge1xuICAgICAgICAgIGlmIChzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IFwiY29tcGxldGVkXCIgOiBcInN1c3BlbmRlZFlpZWxkXCIsIHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgXCJ0aHJvd1wiID09PSByZWNvcmQudHlwZSAmJiAoc3RhdGUgPSBcImNvbXBsZXRlZFwiLCBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmICh1bmRlZmluZWQgPT09IG1ldGhvZCkge1xuICAgICAgaWYgKGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IGNvbnRleHQubWV0aG9kKSB7XG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSAmJiAoY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCksIFwidGhyb3dcIiA9PT0gY29udGV4dC5tZXRob2QpKSByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcbiAgICBpZiAoXCJ0aHJvd1wiID09PSByZWNvcmQudHlwZSkgcmV0dXJuIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcsIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcbiAgICByZXR1cm4gaW5mbyA/IGluZm8uZG9uZSA/IChjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZSwgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYywgXCJyZXR1cm5cIiAhPT0gY29udGV4dC5tZXRob2QgJiYgKGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpIDogaW5mbyA6IChjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIiwgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHtcbiAgICAgIHRyeUxvYzogbG9jc1swXVxuICAgIH07XG4gICAgMSBpbiBsb2NzICYmIChlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV0pLCAyIGluIGxvY3MgJiYgKGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdLCBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIHJlY29yZC5hcmcsIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7XG4gICAgICB0cnlMb2M6IFwicm9vdFwiXG4gICAgfV0sIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7XG4gIH1cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGl0ZXJhYmxlLm5leHQpIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgZm9yICg7ICsraSA8IGl0ZXJhYmxlLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkgcmV0dXJuIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXSwgbmV4dC5kb25lID0gITEsIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dC52YWx1ZSA9IHVuZGVmaW5lZCwgbmV4dC5kb25lID0gITAsIG5leHQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBkb25lUmVzdWx0XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgZG9uZTogITBcbiAgICB9O1xuICB9XG4gIHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lUHJvcGVydHkoR3AsIFwiY29uc3RydWN0b3JcIiwge1xuICAgIHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICBjb25maWd1cmFibGU6ICEwXG4gIH0pLCBkZWZpbmVQcm9wZXJ0eShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCB7XG4gICAgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLFxuICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBnZW5GdW4gJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiAhIWN0b3IgJiYgKGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA9PT0gKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSk7XG4gIH0sIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCksIGdlbkZ1bjtcbiAgfSwgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX19hd2FpdDogYXJnXG4gICAgfTtcbiAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pLCBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIHZvaWQgMCA9PT0gUHJvbWlzZUltcGwgJiYgKFByb21pc2VJbXBsID0gUHJvbWlzZSk7XG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSwgUHJvbWlzZUltcGwpO1xuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICB9KTtcbiAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKSwgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIiksIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSksIGRlZmluZShHcCwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pLCBleHBvcnRzLmtleXMgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgdmFyIG9iamVjdCA9IE9iamVjdCh2YWwpLFxuICAgICAga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cy5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICBmb3IgKDsga2V5cy5sZW5ndGg7KSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkgcmV0dXJuIG5leHQudmFsdWUgPSBrZXksIG5leHQuZG9uZSA9ICExLCBuZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0O1xuICAgIH07XG4gIH0sIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkge1xuICAgICAgaWYgKHRoaXMucHJldiA9IDAsIHRoaXMubmV4dCA9IDAsIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB1bmRlZmluZWQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhc2tpcFRlbXBSZXNldCkgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgIFwidFwiID09PSBuYW1lLmNoYXJBdCgwKSAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpICYmICh0aGlzW25hbWVdID0gdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICB0aGlzLmRvbmUgPSAhMDtcbiAgICAgIHZhciByb290UmVjb3JkID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247XG4gICAgICBpZiAoXCJ0aHJvd1wiID09PSByb290UmVjb3JkLnR5cGUpIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZXR1cm4gcmVjb3JkLnR5cGUgPSBcInRocm93XCIsIHJlY29yZC5hcmcgPSBleGNlcHRpb24sIGNvbnRleHQubmV4dCA9IGxvYywgY2F1Z2h0ICYmIChjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksICEhY2F1Z2h0O1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV0sXG4gICAgICAgICAgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgaWYgKFwicm9vdFwiID09PSBlbnRyeS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIiksXG4gICAgICAgICAgICBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNGaW5hbGx5KSB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmaW5hbGx5RW50cnkgJiYgKFwiYnJlYWtcIiA9PT0gdHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHR5cGUpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYyAmJiAoZmluYWxseUVudHJ5ID0gbnVsbCk7XG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJldHVybiByZWNvcmQudHlwZSA9IHR5cGUsIHJlY29yZC5hcmcgPSBhcmcsIGZpbmFsbHlFbnRyeSA/ICh0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYywgQ29udGludWVTZW50aW5lbCkgOiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUpIHRocm93IHJlY29yZC5hcmc7XG4gICAgICByZXR1cm4gXCJicmVha1wiID09PSByZWNvcmQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHJlY29yZC50eXBlID8gdGhpcy5uZXh0ID0gcmVjb3JkLmFyZyA6IFwicmV0dXJuXCIgPT09IHJlY29yZC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZywgdGhpcy5tZXRob2QgPSBcInJldHVyblwiLCB0aGlzLm5leHQgPSBcImVuZFwiKSA6IFwibm9ybWFsXCIgPT09IHJlY29yZC50eXBlICYmIGFmdGVyTG9jICYmICh0aGlzLm5leHQgPSBhZnRlckxvYyksIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcbiAgICBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaChmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHJldHVybiB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShlbnRyeSksIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG4gICAgfSxcbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSByZWNvcmQudHlwZSkge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9LCBcIm5leHRcIiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdW5kZWZpbmVkKSwgQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH0sIGV4cG9ydHM7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIChtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzKSwgX3R5cGVvZihvYmopO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiLy8gVE9ETyhCYWJlbCA4KTogUmVtb3ZlIHRoaXMgZmlsZS5cblxudmFyIHJ1bnRpbWUgPSByZXF1aXJlKFwiLi4vaGVscGVycy9yZWdlbmVyYXRvclJ1bnRpbWVcIikoKTtcbm1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcblxuLy8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9wYWNrYWdlcy9ydW50aW1lL3J1bnRpbWUuanMjTDczNj1cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxuIiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybScpXG5jb25zdCBmb3JtRmFuY3lib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1mYW5jeWJveCcpXG5cbmFzeW5jIGZ1bmN0aW9uIGdldEZvcm1EYXRhKCkge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSlcbiAgICBsZXQgbmFtZSA9IGRhdGEuZ2V0KCduYW1lJylcbiAgICBsZXQgcGhvbmUgPSBkYXRhLmdldCgncGhvbmUnKVxuXG4gICAgdHJ5IHtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1CdXR0b25cIikuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1CdXR0b25cIikuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKVxuICAgICAgICBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdHNfX3ByZWxvYWRlclwiKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2JlYXV0eS1zYWxvb24tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL29yZGVycycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgcGhvbmVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybUJ1dHRvblwiKS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1CdXR0b25cIikuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgICAgICBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdHNfX3ByZWxvYWRlclwiKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdHNfX3Jlc3VsdC1tZXNzYWdlXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3RzX19yZXN1bHQtbWVzc2FnZVwiKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICB9LCAzMDAwKVxuICAgICAgICBjb25zb2xlLmxvZygn0KPRgdC/0LXRhTonLCBKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LA6JywgZXJyb3IpO1xuICAgIH1cbn1cblxuY29uc3QgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmljZS1tZW51Jylcbm1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmljZVN3aXRjaGVyKVxuXG5mdW5jdGlvbiBwcmljZVN3aXRjaGVyKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBpZiAoZS50YXJnZXQuaWQgPT09ICdoYWlyY3V0Jykge1xuXG4gICAgICAgIGxldCBoYWlyY3V0RGF0YSA9IHtcbiAgICAgICAgICAgIGxlZnRUaXRsZUZpcnN0OiAn0JbQtdC90YHQutCw0Y8g0YHRgtGA0LjQttC60LAnLFxuICAgICAgICAgICAgbGVmdFRleHRGaXJzdDogJ9Ca0L7RgNC+0YLQutC40LUg0LLQvtC70L7RgdGLJyxcblxuICAgICAgICAgICAgbGVmdFRpdGxlU2Vjb25kOiAn0JzRg9C20YHQutCw0Y8g0YHRgtGA0LjQttC60LAnLFxuICAgICAgICAgICAgbGVmdFRleHRTZWNvbmQ6ICfQmtC+0YDQvtGC0LrQuNC1INCy0L7Qu9C+0YHRiycsXG5cbiAgICAgICAgICAgIGxlZnRUaXRsZVRoaXJkOiAn0JTQtdGC0YHQutC40Lkg0YHRgtC40LvRjCcsXG4gICAgICAgICAgICBsZWZ0VGV4dFRoaXJkOiAn0JrQvtGA0L7RgtC60LjQtSDQstC+0LvQvtGB0YsnLFxuXG4gICAgICAgICAgICBsZWZ0VGl0bGVGb3J0aDogJ9Ca0YDQtdCw0YLQuNCy0L3Ri9C5INGB0YLQuNC70YwnLFxuICAgICAgICAgICAgbGVmdFRleHRGb3J0aDogJ9Ca0L7RgNC+0YLQutC40LUg0LLQvtC70L7RgdGLJyxcblxuICAgICAgICAgICAgcmlnaHRUaXRsZUZpcnN0OiAn0KHRgtGA0LjQttC60LAg0LHQvtGA0L7QtNGLINC4INGD0YHQvtCyJyxcbiAgICAgICAgICAgIHJpZ2h0VGV4dEZpcnN0OiAn0JrQvtGA0L7RgtC60LjQtSDQstC+0LvQvtGB0YsnLFxuXG4gICAgICAgICAgICByaWdodFRpdGxlU2Vjb25kOiAn0K3QutGB0L/QtdGA0YHRgSDRg9C60LvQsNC00LrQsCcsXG4gICAgICAgICAgICByaWdodFRleHRTZWNvbmQ6ICfQmtC+0YDQvtGC0LrQuNC1INCy0L7Qu9C+0YHRiycsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVUaGlyZDogJ9Cj0LrQu9Cw0LrQsCDQtNC90LXQstC90LDRjycsXG4gICAgICAgICAgICByaWdodFRleHRUaGlyZDogJ9Ca0L7RgNC+0YLQutC40LUg0LLQvtC70L7RgdGLJyxcblxuICAgICAgICAgICAgcmlnaHRUaXRsZUZvcnRoOiAn0J/RgNC40YfQtdGB0LrQsCDQstC10YfQtdGA0L3Rj9GPICjRgdCy0LDQtNC10LHQvdCw0Y8pJyxcbiAgICAgICAgICAgIHJpZ2h0VGV4dEZvcnRoOiAn0JrQvtGA0L7RgtC60LjQtSDQstC+0LvQvtGB0YsnLFxuXG4gICAgICAgICAgICBsZWZ0UHJpY2VGaXJzdDogJzEyMDAg4oK9JyxcbiAgICAgICAgICAgIGxlZnRQcmljZVNlY29uZDogJzEyMDAg4oK9JyxcblxuICAgICAgICAgICAgbGVmdFByaWNlVGhpcmQ6ICcxMjAwIOKCvScsXG4gICAgICAgICAgICBsZWZ0UHJpY2VGb3J0aDogJzEyMDAg4oK9JyxcblxuICAgICAgICAgICAgcmlnaHRQcmljZUZpcnN0OiAnMTIwMCDigr0nLFxuICAgICAgICAgICAgcmlnaHRQcmljZVNlY29uZDogJzEyMDAg4oK9JyxcblxuICAgICAgICAgICAgcmlnaHRQcmljZVRoaXJkOiAnMTIwMCDigr0nLFxuICAgICAgICAgICAgcmlnaHRQcmljZUZvcnRoOiAnMzAwMCDigr0nLFxuICAgICAgICB9XG4gICAgICAgIHNldFRleHQoaGFpcmN1dERhdGEpXG5cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmlkID09PSAnY29zbWV0b2xvZ3knKSB7XG4gICAgICAgIGxldCBjb3NtZXRvbG9neURhdGEgPSB7XG4gICAgICAgICAgICBsZWZ0VGl0bGVGaXJzdDogJ9Ch0LDQu9C40YbQuNC70L7QstGL0Lkg0L/QuNC70LjQvdCzJyxcbiAgICAgICAgICAgIGxlZnRUZXh0Rmlyc3Q6ICcxOCsg0Lgg0YHRgtCw0YDRiNC1JyxcblxuICAgICAgICAgICAgbGVmdFRpdGxlU2Vjb25kOiAn0JzQuNC90LTQsNC70YzQvdGL0Lkg0L/QuNC70LjQvdCzJyxcbiAgICAgICAgICAgIGxlZnRUZXh0U2Vjb25kOiAnMTgrINC4INGB0YLQsNGA0YjQtScsXG5cbiAgICAgICAgICAgIGxlZnRUaXRsZVRoaXJkOiAn0KDQtdGC0LjQvdC+0LvQvtCy0YvQuSDQv9C40LvQuNC90LMnLFxuICAgICAgICAgICAgbGVmdFRleHRUaGlyZDogJzE4KyDQuCDRgdGC0LDRgNGI0LUnLFxuXG4gICAgICAgICAgICBsZWZ0VGl0bGVGb3J0aDogJycsXG4gICAgICAgICAgICBsZWZ0VGV4dEZvcnRoOiAnJyxcblxuICAgICAgICAgICAgcmlnaHRUaXRsZUZpcnN0OiAnJyxcbiAgICAgICAgICAgIHJpZ2h0VGV4dEZpcnN0OiAnJyxcblxuICAgICAgICAgICAgcmlnaHRUaXRsZVNlY29uZDogJycsXG4gICAgICAgICAgICByaWdodFRleHRTZWNvbmQ6ICcnLFxuXG4gICAgICAgICAgICByaWdodFRpdGxlVGhpcmQ6ICcnLFxuICAgICAgICAgICAgcmlnaHRUZXh0VGhpcmQ6ICcnLFxuXG4gICAgICAgICAgICByaWdodFRpdGxlRm9ydGg6ICcnLFxuICAgICAgICAgICAgcmlnaHRUZXh0Rm9ydGg6ICcnLFxuXG4gICAgICAgICAgICBsZWZ0UHJpY2VGaXJzdDogJzI5MDAg4oK9JyxcbiAgICAgICAgICAgIGxlZnRQcmljZVNlY29uZDogJzI5MDAg4oK9JyxcblxuICAgICAgICAgICAgbGVmdFByaWNlVGhpcmQ6ICcyOTAwIOKCvScsXG4gICAgICAgICAgICBsZWZ0UHJpY2VGb3J0aDogJycsXG5cbiAgICAgICAgICAgIHJpZ2h0UHJpY2VGaXJzdDogJycsXG4gICAgICAgICAgICByaWdodFByaWNlU2Vjb25kOiAnJyxcblxuICAgICAgICAgICAgcmlnaHRQcmljZVRoaXJkOiAnJyxcbiAgICAgICAgICAgIHJpZ2h0UHJpY2VGb3J0aDogJycsXG4gICAgICAgIH1cblxuICAgICAgICBzZXRUZXh0KGNvc21ldG9sb2d5RGF0YSlcblxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuaWQgPT09ICduYWlscycpIHtcbiAgICAgICAgbGV0IG5haWxzRGF0YSA9IHtcbiAgICAgICAgICAgIGxlZnRUaXRsZUZpcnN0OiAn0JzQsNC90LjQutGO0YAnLFxuICAgICAgICAgICAgbGVmdFRleHRGaXJzdDogJzYwINC80LjQvdGD0YInLFxuXG4gICAgICAgICAgICBsZWZ0VGl0bGVTZWNvbmQ6ICfQn9C10LTQuNC60Y7RgCcsXG4gICAgICAgICAgICBsZWZ0VGV4dFNlY29uZDogJzMwINC80LjQvdGD0YInLFxuXG4gICAgICAgICAgICBsZWZ0VGl0bGVUaGlyZDogJ1NQQSDQtNC70Y8g0YDRg9C6JyxcbiAgICAgICAgICAgIGxlZnRUZXh0VGhpcmQ6ICczMCDQvNC40L3Rg9GCJyxcblxuICAgICAgICAgICAgbGVmdFRpdGxlRm9ydGg6ICdTUEEg0LTQu9GPINC90L7QsycsXG4gICAgICAgICAgICBsZWZ0VGV4dEZvcnRoOiAnMzAg0LzQuNC90YPRgicsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVGaXJzdDogJycsXG4gICAgICAgICAgICByaWdodFRleHRGaXJzdDogJycsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVTZWNvbmQ6ICcnLFxuICAgICAgICAgICAgcmlnaHRUZXh0U2Vjb25kOiAnJyxcblxuICAgICAgICAgICAgcmlnaHRUaXRsZVRoaXJkOiAnJyxcbiAgICAgICAgICAgIHJpZ2h0VGV4dFRoaXJkOiAnJyxcblxuICAgICAgICAgICAgcmlnaHRUaXRsZUZvcnRoOiAnJyxcbiAgICAgICAgICAgIHJpZ2h0VGV4dEZvcnRoOiAnJyxcblxuICAgICAgICAgICAgbGVmdFByaWNlRmlyc3Q6ICcxMDAwIOKCvScsXG4gICAgICAgICAgICBsZWZ0UHJpY2VTZWNvbmQ6ICcxMzAwIOKCvScsXG5cbiAgICAgICAgICAgIGxlZnRQcmljZVRoaXJkOiAnNTAwIOKCvScsXG4gICAgICAgICAgICBsZWZ0UHJpY2VGb3J0aDogJzcwMCDigr0nLFxuXG4gICAgICAgICAgICByaWdodFByaWNlRmlyc3Q6ICcnLFxuICAgICAgICAgICAgcmlnaHRQcmljZVNlY29uZDogJycsXG5cbiAgICAgICAgICAgIHJpZ2h0UHJpY2VUaGlyZDogJycsXG4gICAgICAgICAgICByaWdodFByaWNlRm9ydGg6ICcnLFxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGV4dChuYWlsc0RhdGEpXG5cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmlkID09PSAnbWFrZXVwJykge1xuICAgICAgICBsZXQgbWFrZXVwRGF0YSA9IHtcbiAgICAgICAgICAgIGxlZnRUaXRsZUZpcnN0OiAn0JzQsNC60LjRj9C2INC00L3QtdCy0L3QvtC5JyxcbiAgICAgICAgICAgIGxlZnRUZXh0Rmlyc3Q6ICc2MCDQvNC40L3Rg9GCJyxcblxuICAgICAgICAgICAgbGVmdFRpdGxlU2Vjb25kOiAn0JzQsNC60LjRj9C2INCy0LXRh9C10YDQvdC40LknLFxuICAgICAgICAgICAgbGVmdFRleHRTZWNvbmQ6ICc5MCDQvNC40L3Rg9GCJyxcblxuICAgICAgICAgICAgbGVmdFRpdGxlVGhpcmQ6ICfQm9C40YTRgtC40L3QsycsXG4gICAgICAgICAgICBsZWZ0VGV4dFRoaXJkOiAnNjAg0LzQuNC90YPRgicsXG5cbiAgICAgICAgICAgIGxlZnRUaXRsZUZvcnRoOiAn0JzQsNC60LjRj9C2INC00LvRjyDRhNC+0YLQvtGB0LXRgdGB0LjQuScsXG4gICAgICAgICAgICBsZWZ0VGV4dEZvcnRoOiAnOTAg0LzQuNC90YPRgicsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVGaXJzdDogJycsXG4gICAgICAgICAgICByaWdodFRleHRGaXJzdDogJycsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVTZWNvbmQ6ICcnLFxuICAgICAgICAgICAgcmlnaHRUZXh0U2Vjb25kOiAnJyxcblxuICAgICAgICAgICAgcmlnaHRUaXRsZVRoaXJkOiAnJyxcbiAgICAgICAgICAgIHJpZ2h0VGV4dFRoaXJkOiAnJyxcblxuICAgICAgICAgICAgcmlnaHRUaXRsZUZvcnRoOiAnJyxcbiAgICAgICAgICAgIHJpZ2h0VGV4dEZvcnRoOiAnJyxcblxuICAgICAgICAgICAgbGVmdFByaWNlRmlyc3Q6ICcxMDAwIOKCvScsXG4gICAgICAgICAgICBsZWZ0UHJpY2VTZWNvbmQ6ICcxNTAwIOKCvScsXG5cbiAgICAgICAgICAgIGxlZnRQcmljZVRoaXJkOiAnMTUwMCDigr0nLFxuICAgICAgICAgICAgbGVmdFByaWNlRm9ydGg6ICcyMDAwIOKCvScsXG5cbiAgICAgICAgICAgIHJpZ2h0UHJpY2VGaXJzdDogJycsXG4gICAgICAgICAgICByaWdodFByaWNlU2Vjb25kOiAnJyxcblxuICAgICAgICAgICAgcmlnaHRQcmljZVRoaXJkOiAnJyxcbiAgICAgICAgICAgIHJpZ2h0UHJpY2VGb3J0aDogJycsXG4gICAgICAgIH1cblxuICAgICAgICBzZXRUZXh0KG1ha2V1cERhdGEpXG5cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmlkID09PSAnYnJvd3MnKSB7XG4gICAgICAgIGxldCBicm93c0RhdGEgPSB7XG4gICAgICAgICAgICBsZWZ0VGl0bGVGaXJzdDogJ9Ca0L7RgNGA0LXQutGG0LjRjyDQsdGA0L7QstC10LknLFxuICAgICAgICAgICAgbGVmdFRleHRGaXJzdDogJzMwINC80LjQvdGD0YInLFxuXG4gICAgICAgICAgICBsZWZ0VGl0bGVTZWNvbmQ6ICfQm9Cw0LzQuNC90LjRgNC+0LLQsNC90LjQtSDQsdGA0L7QstC10LknLFxuICAgICAgICAgICAgbGVmdFRleHRTZWNvbmQ6ICc2MCDQvNC40L3Rg9GCJyxcblxuICAgICAgICAgICAgbGVmdFRpdGxlVGhpcmQ6ICfQntC60YDQsNGI0LjQstCw0L3QuNC1INCx0YDQvtCy0LXQuScsXG4gICAgICAgICAgICBsZWZ0VGV4dFRoaXJkOiAnMzAg0LzQuNC90YPRgicsXG5cbiAgICAgICAgICAgIGxlZnRUaXRsZUZvcnRoOiAnJyxcbiAgICAgICAgICAgIGxlZnRUZXh0Rm9ydGg6ICcnLFxuXG4gICAgICAgICAgICByaWdodFRpdGxlRmlyc3Q6ICcnLFxuICAgICAgICAgICAgcmlnaHRUZXh0Rmlyc3Q6ICcnLFxuXG4gICAgICAgICAgICByaWdodFRpdGxlU2Vjb25kOiAnJyxcbiAgICAgICAgICAgIHJpZ2h0VGV4dFNlY29uZDogJycsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVUaGlyZDogJycsXG4gICAgICAgICAgICByaWdodFRleHRUaGlyZDogJycsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVGb3J0aDogJycsXG4gICAgICAgICAgICByaWdodFRleHRGb3J0aDogJycsXG5cbiAgICAgICAgICAgIGxlZnRQcmljZUZpcnN0OiAnNTAwIOKCvScsXG4gICAgICAgICAgICBsZWZ0UHJpY2VTZWNvbmQ6ICc2MDAg4oK9JyxcblxuICAgICAgICAgICAgbGVmdFByaWNlVGhpcmQ6ICc1MDAg4oK9JyxcbiAgICAgICAgICAgIGxlZnRQcmljZUZvcnRoOiAnJyxcblxuICAgICAgICAgICAgcmlnaHRQcmljZUZpcnN0OiAnJyxcbiAgICAgICAgICAgIHJpZ2h0UHJpY2VTZWNvbmQ6ICcnLFxuXG4gICAgICAgICAgICByaWdodFByaWNlVGhpcmQ6ICcnLFxuICAgICAgICAgICAgcmlnaHRQcmljZUZvcnRoOiAnJyxcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRleHQoYnJvd3NEYXRhKVxuXG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC5pZCA9PT0gJ21hc3NhZ2UnKSB7XG4gICAgICAgIGxldCBtYXNzYWdlRGF0YSA9IHtcbiAgICAgICAgICAgIGxlZnRUaXRsZUZpcnN0OiAn0JvQuNC80YTQvtC00YDQtdC90LDQttC90YvQuSDQvNCw0YHRgdCw0LYnLFxuICAgICAgICAgICAgbGVmdFRleHRGaXJzdDogJzYwINC80LjQvdGD0YInLFxuXG4gICAgICAgICAgICBsZWZ0VGl0bGVTZWNvbmQ6ICfQm9C10YfQtdCx0L3Ri9C5INC80LDRgdGB0LDQticsXG4gICAgICAgICAgICBsZWZ0VGV4dFNlY29uZDogJzQwINC80LjQvdGD0YInLFxuXG4gICAgICAgICAgICBsZWZ0VGl0bGVUaGlyZDogJ9Cg0YPRgdGB0LrQuNC5IFNQQSDQvNCw0YHRgdCw0LYnLFxuICAgICAgICAgICAgbGVmdFRleHRUaGlyZDogJzEyMCDQvNC40L3Rg9GCJyxcblxuICAgICAgICAgICAgbGVmdFRpdGxlRm9ydGg6ICfQodC40LHQuNGA0YHQutC+0LUgU1BBJyxcbiAgICAgICAgICAgIGxlZnRUZXh0Rm9ydGg6ICcxMjAg0LzQuNC90YPRgicsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVGaXJzdDogJ9CR0LXRgNC10LfQvtCy0L7QtSBTUEEnLFxuICAgICAgICAgICAgcmlnaHRUZXh0Rmlyc3Q6ICcxMjAg0LzQuNC90YPRgicsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVTZWNvbmQ6ICfQktGD0LvQutCw0L3QuNGH0LXRgdC60LjQuSDRg9GF0L7QtCcsXG4gICAgICAgICAgICByaWdodFRleHRTZWNvbmQ6ICcxNTAg0LzQuNC90YPRgicsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVUaGlyZDogJycsXG4gICAgICAgICAgICByaWdodFRleHRUaGlyZDogJycsXG5cbiAgICAgICAgICAgIHJpZ2h0VGl0bGVGb3J0aDogJycsXG4gICAgICAgICAgICByaWdodFRleHRGb3J0aDogJycsXG5cbiAgICAgICAgICAgIGxlZnRQcmljZUZpcnN0OiAnMjEwMCDigr0nLFxuICAgICAgICAgICAgbGVmdFByaWNlU2Vjb25kOiAnMTUwMCDigr0nLFxuXG4gICAgICAgICAgICBsZWZ0UHJpY2VUaGlyZDogJzMzMDAg4oK9JyxcbiAgICAgICAgICAgIGxlZnRQcmljZUZvcnRoOiAnNDkwMCDigr0nLFxuXG4gICAgICAgICAgICByaWdodFByaWNlRmlyc3Q6ICc3NTAwIOKCvScsXG4gICAgICAgICAgICByaWdodFByaWNlU2Vjb25kOiAnNzUwMCDigr0nLFxuXG4gICAgICAgICAgICByaWdodFByaWNlVGhpcmQ6ICcnLFxuICAgICAgICAgICAgcmlnaHRQcmljZUZvcnRoOiAnJyxcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRleHQobWFzc2FnZURhdGEpXG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIHNldFRleHQoZGF0YSkge1xuICAgIGxldCBsZWZ0VGl0bGVGaXJzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWZ0LXRpdGxlLWZpcnN0JylcbiAgICBsZXQgbGVmdFRpdGxlU2Vjb25kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnQtdGl0bGUtc2Vjb25kJylcbiAgICBsZXQgbGVmdFRpdGxlVGhpcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVmdC10aXRsZS10aGlyZCcpXG4gICAgbGV0IGxlZnRUaXRsZUZvcnRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnQtdGl0bGUtZm9ydGgnKVxuICAgIGxldCBsZWZ0VGV4dEZpcnN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnQtdGV4dC1maXJzdCcpXG4gICAgbGV0IGxlZnRUZXh0U2Vjb25kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnQtdGV4dC1zZWNvbmQnKVxuICAgIGxldCBsZWZ0VGV4dFRoaXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnQtdGV4dC10aGlyZCcpXG4gICAgbGV0IGxlZnRUZXh0Rm9ydGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVmdC10ZXh0LWZvcnRoJylcbiAgICBsZXQgcmlnaHRUaXRsZUZpcnN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXRpdGxlLWZpcnN0JylcbiAgICBsZXQgcmlnaHRUaXRsZVNlY29uZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC10aXRsZS1zZWNvbmQnKVxuICAgIGxldCByaWdodFRpdGxlVGhpcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQtdGl0bGUtdGhpcmQnKVxuICAgIGxldCByaWdodFRpdGxlRm9ydGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQtdGl0bGUtZm9ydGgnKVxuICAgIGxldCByaWdodFRleHRGaXJzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC10ZXh0LWZpcnN0JylcbiAgICBsZXQgcmlnaHRUZXh0U2Vjb25kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXRleHQtc2Vjb25kJylcbiAgICBsZXQgcmlnaHRUZXh0VGhpcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQtdGV4dC10aGlyZCcpXG4gICAgbGV0IHJpZ2h0VGV4dEZvcnRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXRleHQtZm9ydGgnKVxuICAgIGxldCBsZWZ0UHJpY2VGaXJzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWZ0LXByaWNlLWZpcnN0JylcbiAgICBsZXQgbGVmdFByaWNlU2Vjb25kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnQtcHJpY2Utc2Vjb25kJylcbiAgICBsZXQgbGVmdFByaWNlVGhpcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVmdC1wcmljZS10aGlyZCcpXG4gICAgbGV0IGxlZnRQcmljZUZvcnRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnQtcHJpY2UtZm9ydGgnKVxuICAgIGxldCByaWdodFByaWNlRmlyc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQtcHJpY2UtZmlyc3QnKVxuICAgIGxldCByaWdodFByaWNlU2Vjb25kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXByaWNlLXNlY29uZCcpXG4gICAgbGV0IHJpZ2h0UHJpY2VUaGlyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC1wcmljZS10aGlyZCcpXG4gICAgbGV0IHJpZ2h0UHJpY2VGb3J0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC1wcmljZS1mb3J0aCcpXG5cbiAgICBsZWZ0VGl0bGVGaXJzdC50ZXh0Q29udGVudCA9IGRhdGEubGVmdFRpdGxlRmlyc3RcbiAgICBsZWZ0VGV4dEZpcnN0LnRleHRDb250ZW50ID0gZGF0YS5sZWZ0VGV4dEZpcnN0XG5cbiAgICBsZWZ0VGl0bGVTZWNvbmQudGV4dENvbnRlbnQgPSBkYXRhLmxlZnRUaXRsZVNlY29uZFxuICAgIGxlZnRUZXh0U2Vjb25kLnRleHRDb250ZW50ID0gZGF0YS5sZWZ0VGV4dFNlY29uZFxuXG4gICAgbGVmdFRpdGxlVGhpcmQudGV4dENvbnRlbnQgPSBkYXRhLmxlZnRUaXRsZVRoaXJkXG4gICAgbGVmdFRleHRUaGlyZC50ZXh0Q29udGVudCA9IGRhdGEubGVmdFRleHRUaGlyZFxuXG4gICAgbGVmdFRpdGxlRm9ydGgudGV4dENvbnRlbnQgPSBkYXRhLmxlZnRUaXRsZUZvcnRoXG4gICAgbGVmdFRleHRGb3J0aC50ZXh0Q29udGVudCA9IGRhdGEubGVmdFRleHRGb3J0aFxuXG4gICAgcmlnaHRUaXRsZUZpcnN0LnRleHRDb250ZW50ID0gZGF0YS5yaWdodFRpdGxlRmlyc3RcbiAgICByaWdodFRleHRGaXJzdC50ZXh0Q29udGVudCA9IGRhdGEucmlnaHRUZXh0Rmlyc3RcblxuICAgIHJpZ2h0VGl0bGVTZWNvbmQudGV4dENvbnRlbnQgPSBkYXRhLnJpZ2h0VGl0bGVTZWNvbmRcbiAgICByaWdodFRleHRTZWNvbmQudGV4dENvbnRlbnQgPSBkYXRhLnJpZ2h0VGV4dFNlY29uZFxuXG4gICAgcmlnaHRUaXRsZVRoaXJkLnRleHRDb250ZW50ID0gZGF0YS5yaWdodFRpdGxlVGhpcmRcbiAgICByaWdodFRleHRUaGlyZC50ZXh0Q29udGVudCA9IGRhdGEucmlnaHRUZXh0VGhpcmRcblxuICAgIHJpZ2h0VGl0bGVGb3J0aC50ZXh0Q29udGVudCA9IGRhdGEucmlnaHRUaXRsZUZvcnRoXG4gICAgcmlnaHRUZXh0Rm9ydGgudGV4dENvbnRlbnQgPSBkYXRhLnJpZ2h0VGV4dEZvcnRoXG5cbiAgICBsZWZ0UHJpY2VGaXJzdC50ZXh0Q29udGVudCA9IGRhdGEubGVmdFByaWNlRmlyc3RcbiAgICBsZWZ0UHJpY2VTZWNvbmQudGV4dENvbnRlbnQgPSBkYXRhLmxlZnRQcmljZVNlY29uZFxuXG4gICAgbGVmdFByaWNlVGhpcmQudGV4dENvbnRlbnQgPSBkYXRhLmxlZnRQcmljZVRoaXJkXG4gICAgbGVmdFByaWNlRm9ydGgudGV4dENvbnRlbnQgPSBkYXRhLmxlZnRQcmljZUZvcnRoXG5cbiAgICByaWdodFByaWNlRmlyc3QudGV4dENvbnRlbnQgPSBkYXRhLnJpZ2h0UHJpY2VGaXJzdFxuICAgIHJpZ2h0UHJpY2VTZWNvbmQudGV4dENvbnRlbnQgPSBkYXRhLnJpZ2h0UHJpY2VTZWNvbmRcblxuICAgIHJpZ2h0UHJpY2VUaGlyZC50ZXh0Q29udGVudCA9IGRhdGEucmlnaHRQcmljZVRoaXJkXG4gICAgcmlnaHRQcmljZUZvcnRoLnRleHRDb250ZW50ID0gZGF0YS5yaWdodFByaWNlRm9ydGhcbn1cblxuY29uc3QgaGFtYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaGFtYlwiKTtcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cFwiKTtcbmNvbnN0IGh0bWwgPSBkb2N1bWVudC5odG1sO1xuY29uc3QgbWVudUhhbWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21lbnVcIilcblxuaGFtYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFtYkhhbmRsZXIpO1xuXG5mdW5jdGlvbiBoYW1iSGFuZGxlcihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHBvcHVwLmNsYXNzTGlzdC50b2dnbGUoXCJvcGVuXCIpO1xuICAgIGhhbWIuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICBodG1sLmNsYXNzTGlzdC50b2dnbGUoXCJub3Njcm9sbFwiKTtcbn1cblxuY29uc3QgbGlua3MgPSBBcnJheS5mcm9tKG1lbnVIYW1iLmNoaWxkcmVuKTtcblxubGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlT25DbGljayk7XG59KTtcblxuZnVuY3Rpb24gY2xvc2VPbkNsaWNrKCkge1xuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xuICAgIGhhbWIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICBodG1sLmNsYXNzTGlzdC5yZW1vdmUoXCJub3Njcm9sbFwiKTtcbn1cblxuY29uc3Qgc21vb3RoTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW2hyZWZePVwiI1wiXScpO1xuZm9yIChsZXQgc21vb3RoTGluayBvZiBzbW9vdGhMaW5rcykge1xuICAgIHNtb290aExpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGlkID0gc21vb3RoTGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgICBibG9jazogJ3N0YXJ0J1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0Rm9ybUZhbmN5Ym94RGF0YSgpIHtcbiAgICBjb25zdCBkYXRhID0gbmV3IEZvcm1EYXRhKGZvcm1GYW5jeWJveClcbiAgICBsZXQgbmFtZSA9IGRhdGEuZ2V0KCduYW1lJylcbiAgICBsZXQgcGhvbmUgPSBkYXRhLmdldCgncGhvbmUnKVxuICAgIGxldCBtYXN0ZXJJZCA9IGRhdGEuZ2V0KCdtYXN0ZXJJZCcpXG4gICAgbGV0IHNlcnZpY2VJZCA9IGRhdGEuZ2V0KCdzZXJ2aWNlSWQnKVxuICAgIGxldCB2aXNpdERhdGUgPSBkYXRhLmdldCgndmlzaXREYXRlJylcblxuICAgIHRyeSB7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmYW5jeUJ1dHRvblwiKS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmFuY3lCdXR0b25cIikuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKVxuICAgICAgICBmb3JtRmFuY3lib3gucXVlcnlTZWxlY3RvcihcIi5jb250YWN0c19fcHJlbG9hZGVyXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYmVhdXR5LXNhbG9vbi1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvb3JkZXJzJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgICAgICBtYXN0ZXJJZCxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlSWQsXG4gICAgICAgICAgICAgICAgdmlzaXREYXRlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZhbmN5QnV0dG9uXCIpLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmFuY3lCdXR0b25cIikuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgICAgICBmb3JtRmFuY3lib3gucXVlcnlTZWxlY3RvcihcIi5jb250YWN0c19fcHJlbG9hZGVyXCIpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgIGZvcm1GYW5jeWJveC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3RzX19yZXN1bHQtbWVzc2FnZVwiKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZvcm1GYW5jeWJveC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3RzX19yZXN1bHQtbWVzc2FnZVwiKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKFwiI2RpYWxvZ0hlYWRlclwiLCAnJylcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZShcIiNkaWFsb2dGaXJzdFwiLCAnI3BvcHVsYXInKVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKFwiI2RpYWxvZ1NlY29uZFwiLCAnI3BvcHVsYXInKVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKFwiI2RpYWxvZ1RoaXJkXCIsICcjcG9wdWxhcicpXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoXCIjZGlhbG9nRm91cnRoXCIsICcjcG9wdWxhcicpXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoXCIjZGlhbG9nRmlmdGhcIiwgJyNwb3B1bGFyJylcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZShcIiNkaWFsb2dNYXN0ZXIxXCIsICcjbWFzdGVycycpXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoXCIjZGlhbG9nTWFzdGVyMlwiLCAnI21hc3RlcnMnKVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKFwiI2RpYWxvZ01hc3RlcjNcIiwgJyNtYXN0ZXJzJylcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZShcIiNkaWFsb2dNYXN0ZXI0XCIsICcjbWFzdGVycycpXG4gICAgICAgIH0sIDMwMDApXG4gICAgICAgIGNvbnNvbGUubG9nKCfQo9GB0L/QtdGFOicsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsDonLCBlcnJvcik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZm9ybUZhbmN5Ym94IiwiZ2V0Rm9ybURhdGEiLCJkYXRhIiwiRm9ybURhdGEiLCJuYW1lIiwiZ2V0IiwicGhvbmUiLCJkaXNhYmxlZCIsImNsYXNzTGlzdCIsImFkZCIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJqc29uIiwicmVzdWx0Iiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lbnUiLCJhZGRFdmVudExpc3RlbmVyIiwicHJpY2VTd2l0Y2hlciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsImlkIiwiaGFpcmN1dERhdGEiLCJsZWZ0VGl0bGVGaXJzdCIsImxlZnRUZXh0Rmlyc3QiLCJsZWZ0VGl0bGVTZWNvbmQiLCJsZWZ0VGV4dFNlY29uZCIsImxlZnRUaXRsZVRoaXJkIiwibGVmdFRleHRUaGlyZCIsImxlZnRUaXRsZUZvcnRoIiwibGVmdFRleHRGb3J0aCIsInJpZ2h0VGl0bGVGaXJzdCIsInJpZ2h0VGV4dEZpcnN0IiwicmlnaHRUaXRsZVNlY29uZCIsInJpZ2h0VGV4dFNlY29uZCIsInJpZ2h0VGl0bGVUaGlyZCIsInJpZ2h0VGV4dFRoaXJkIiwicmlnaHRUaXRsZUZvcnRoIiwicmlnaHRUZXh0Rm9ydGgiLCJsZWZ0UHJpY2VGaXJzdCIsImxlZnRQcmljZVNlY29uZCIsImxlZnRQcmljZVRoaXJkIiwibGVmdFByaWNlRm9ydGgiLCJyaWdodFByaWNlRmlyc3QiLCJyaWdodFByaWNlU2Vjb25kIiwicmlnaHRQcmljZVRoaXJkIiwicmlnaHRQcmljZUZvcnRoIiwic2V0VGV4dCIsImNvc21ldG9sb2d5RGF0YSIsIm5haWxzRGF0YSIsIm1ha2V1cERhdGEiLCJicm93c0RhdGEiLCJtYXNzYWdlRGF0YSIsInRleHRDb250ZW50IiwiaGFtYiIsInBvcHVwIiwiaHRtbCIsIm1lbnVIYW1iIiwiaGFtYkhhbmRsZXIiLCJ0b2dnbGUiLCJsaW5rcyIsIkFycmF5IiwiZnJvbSIsImNoaWxkcmVuIiwiZm9yRWFjaCIsImxpbmsiLCJjbG9zZU9uQ2xpY2siLCJzbW9vdGhMaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzbW9vdGhMaW5rIiwiZ2V0QXR0cmlidXRlIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwiZ2V0Rm9ybUZhbmN5Ym94RGF0YSIsIm1hc3RlcklkIiwic2VydmljZUlkIiwidmlzaXREYXRlIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicmVwbGFjZSJdLCJzb3VyY2VSb290IjoiIn0=